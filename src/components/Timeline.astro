---
import Card from "./Card.astro";

const { data } = Astro.props;
---

<article>
  {
    data.map(({ year, months }) => (
      <section>
        <h2>{year}</h2>

        {months.map(({ month, cards }) => (
          <div>
            <p>{month}</p>
            {cards.map((props) => (
              <Card {...props} />
            ))}
          </div>
        ))}
      </section>
    ))
  }
</article>

<style>

  section {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 2rem;
    position: relative;

    & + section {
      margin-block-start: 3rem;
    }

    h2, p {
      place-self: start end;
      position: sticky;
      top: 0;
      bottom: 0;

    }

    > div {
      grid-column: 2;
      display: grid;
      grid-template-columns: 1fr 4fr;
      gap: 1rem 4rem;

      > p {
        grid-column: 1;
        place-self: start;
      }
    }
  }

  @layer components {
    h2 {
      font-size: 1.35rem;
      line-height: var(--space-1);
      color: #f5f5f7;
      margin-top: 1rem;
    }

    p {
      font-size: 1.15rem;
      font-weight: 500;
      color: #909194;
      margin-top: 1rem;
      width: fit-content;
    }
  }
</style>
